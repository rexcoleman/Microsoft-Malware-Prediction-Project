import yaml
import os

def read_yaml_config(config_path):
    """
    Read configuration from a YAML file.
    
    Parameters:
    - config_path: str, path to the YAML configuration file.
    
    Returns:
    - dict: configuration parameters.
    """
    with open(config_path, 'r') as file:
        return yaml.safe_load(file)

# Define paths to configuration files
config_dir = os.path.join(os.path.dirname(__file__), '..', 'config')
paths_config_file = os.path.join(config_dir, 'paths.yaml')
dtypes_config_file = os.path.join(config_dir, 'dtypes.yaml')
preprocessing_config_file = os.path.join(config_dir, 'preprocessing.yaml')
models_config_file = os.path.join(config_dir, 'models.yaml')
feature_metadata_config_file = os.path.join(config_dir, 'feature_metadata.yaml')

# Load configurations
paths_config = read_yaml_config(paths_config_file)
dtypes_config = read_yaml_config(dtypes_config_file)
preprocessing_config = read_yaml_config(preprocessing_config_file)
models_config = read_yaml_config(models_config_file)
feature_metadata_config = read_yaml_config(feature_metadata_config_file)

# Accessing specific configurations
raw_data_path = paths_config['paths']['raw_data']
processed_data_path = paths_config['paths']['processed_data']

dtypes = dtypes_config['dtypes']

missing_value_strategy = preprocessing_config['preprocessing']['missing_values']
encoding_method = preprocessing_config['preprocessing']['encoding']

rf_params = models_config['models']['random_forest']
lgbm_params = models_config['models']['lightgbm']
